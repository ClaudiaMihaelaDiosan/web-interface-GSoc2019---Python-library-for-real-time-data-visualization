{"remainingRequest":"/home/uni/Python-library-for-real-time-data-visualization----Web-Interface/node_modules/babel-loader/lib/index.js!/home/uni/Python-library-for-real-time-data-visualization----Web-Interface/node_modules/vuetify-loader/lib/loader.js!/home/uni/Python-library-for-real-time-data-visualization----Web-Interface/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/uni/Python-library-for-real-time-data-visualization----Web-Interface/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/uni/Python-library-for-real-time-data-visualization----Web-Interface/src/views/City.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/uni/Python-library-for-real-time-data-visualization----Web-Interface/src/views/City.vue","mtime":1566208987975},{"path":"/home/uni/Python-library-for-real-time-data-visualization----Web-Interface/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/uni/Python-library-for-real-time-data-visualization----Web-Interface/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/uni/Python-library-for-real-time-data-visualization----Web-Interface/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/home/uni/Python-library-for-real-time-data-visualization----Web-Interface/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/uni/Python-library-for-real-time-data-visualization----Web-Interface/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios'; //const API_URL = \"http://localhost:3000/\"\n//const ERIC_API = \"http://10.33.34.116:8080/\"\n\nexport default {\n  name: 'details',\n  data: function data() {\n    return {\n      city: '',\n      title: '',\n      cityName: '',\n      imageCity: '',\n      imageRole: '',\n      role: '',\n      details: [{\n        img: 'https://i.ibb.co/5xRGwW5/homeless.png',\n        name: 'Homeless',\n        role: 'allhelpless',\n        id: 'HOMELESS',\n        icon: process.env.VUE_APP_KML_API_URL + 'images/homeless.png',\n        foto: 'https://i.ibb.co/2jYPJCV/homeless.png'\n      }, {\n        img: 'https://i.ibb.co/948KGdK/shutterstock-2630522811-3-390x285.jpg',\n        name: 'Donors',\n        role: 'donors',\n        id: 'DONOR',\n        icon: process.env.VUE_APP_KML_API_URL + 'images/donor.png',\n        foto: 'https://i.ibb.co/h2SfjTH/donor.png'\n      }, {\n        img: 'https://i.ibb.co/2h6Cb3C/Volunteer-Agift-to-the-community.png',\n        name: 'Volunteers',\n        role: 'volunteers',\n        id: 'VOLUNTEER',\n        icon: process.env.VUE_APP_KML_API_URL + 'images/volunteer.png',\n        foto: 'https://i.ibb.co/1KnD1XY/volunteer.png'\n      }, {\n        img: 'https://i.ibb.co/d7Jshnh/open-flash-chart-590x314.jpg',\n        name: 'Transactions'\n      }],\n      roleInfo: []\n    };\n  },\n  mounted: function mounted() {\n    var vm = this;\n    this.city = this.$route.params.cityName, this.imageCity = this.$route.params.image, this.lon = this.$route.params.lon, this.lat = this.$route.params.lat, this.range = this.$route.params.range; //homeless statistics variables\n\n    var urlApi_homeless = process.env.VUE_APP_NODE_API_URL + 'allhelpless/' + this.city;\n    var totalHomeless = '';\n    var food = 0;\n    var clothes = 0;\n    var work = 0;\n    var lodging = 0;\n    var hygiene_products = 0; //homeless\n\n    axios.get(urlApi_homeless).then(function (response) {\n      vm.homeless = response.data;\n      vm.homeless.forEach(function (item) {\n        vm.totalHomeless = vm.homeless.length;\n\n        if (item.need == 'Food') {\n          food += 1;\n        } else if (item.need == 'Clothes') {\n          clothes += 1;\n        } else if (item.need == 'Work') {\n          work += 1;\n        } else if (item.need == 'Lodging') {\n          lodging += 1;\n        } else if (item.need == 'Hygiene products') {\n          hygiene_products += 1;\n        }\n      });\n      vm.food = food;\n      vm.clothes = clothes;\n      vm.work = work;\n      vm.lodging = lodging;\n      vm.hygiene_products = hygiene_products;\n    }).catch(function (response) {\n      console.log(\"error\", response);\n    }); //donors\n\n    var urlApi_donors = process.env.VUE_APP_NODE_API_URL + 'donors/' + this.city;\n    var totalDonors = '';\n    var personally = 0;\n    var throughVolunteer = 0;\n    var food_d = 0;\n    var clothes_d = 0;\n    var work_d = 0;\n    var lodging_d = 0;\n    var hygiene_products_d = 0;\n    axios.get(urlApi_donors).then(function (response) {\n      vm.donors = response.data;\n      vm.donors.forEach(function (item) {\n        vm.totalDonors = vm.donors.length;\n\n        if (item.donationType == 'Food') {\n          food_d += 1;\n        } else if (item.donationType == 'Clothes') {\n          clothes_d += 1;\n        } else if (item.donationType == 'Work') {\n          work_d += 1;\n        } else if (item.donationType == 'Lodging') {\n          lodging_d += 1;\n        } else if (item.donationType == 'Hygiene products') {\n          hygiene_products_d += 1;\n        }\n\n        if (item.helpType == 'Personally') {\n          personally += 1;\n        } else if (item.helpType == 'Through a volunteer') {\n          throughVolunteer += 1;\n        }\n      });\n      vm.personally = personally;\n      vm.throughVolunteer = throughVolunteer;\n      vm.food_d = food_d;\n      vm.clothes_d = clothes_d;\n      vm.work_d = work_d;\n      vm.lodging_d = lodging_d;\n      vm.hygiene_products_d = hygiene_products_d;\n    }).catch(function (response) {\n      console.log(\"error\", response);\n    }); //volunteers\n\n    var urlApi_volunteers = process.env.VUE_APP_NODE_API_URL + 'volunteers/' + this.city;\n    var totalVolunteers = '';\n    axios.get(urlApi_volunteers).then(function (response) {\n      vm.volunteers = response.data;\n      vm.volunteers.forEach(function (item) {\n        vm.totalVolunteers = vm.volunteers.length;\n      });\n    }).catch(function (response) {\n      console.log(\"error\", response);\n    });\n  },\n  methods: {\n    travelTo: function travelTo(details) {\n      var vm = this; //    console.log(details)\n\n      var urlApi = process.env.VUE_APP_NODE_API_URL + details.role + '/' + this.city; //  console.log(urlApi)\n\n      vm.$router.push({\n        name: 'details',\n        params: {\n          title: details.name,\n          cityName: this.city,\n          role: details.role,\n          imageRole: details.img,\n          icon: details.icon,\n          foto: details.foto\n        }\n      });\n      axios.get(urlApi).then(function (response) {\n        //   console.log(response.data);\n        vm.roleInfo = response.data;\n        vm.roleInfo.forEach(function (item) {\n          //formData define\n          var formData = new FormData();\n          formData.append('id', details.id);\n          formData.append('name', item.completeName);\n          formData.append('longitude', item.location[0]);\n          formData.append('latitude', item.location[1]);\n          formData.append('range', 0);\n          formData.append('icon', details.icon);\n          formData.append('scale', 1.3); //   formData.append('description', item.lifeHistory)\n          //addplacemark method\n\n          axios({\n            method: 'post',\n            url: process.env.VUE_APP_KML_API_URL + 'kml/builder/addplacemark',\n            data: formData,\n            config: {\n              headers: {\n                'Content-Type': 'multipart/form-data'\n              }\n            }\n          }).then(function (response) {//handle success\n            //   console.log(\"details Send\")\n            //   console.log(response)\n          }).catch(function (response) {\n            //handle error\n            console.log(\"error\", response);\n          });\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    show: function show(details) {\n      var vm = this;\n      var lon = this.lon;\n      var lat = this.lat;\n      var range = this.range;\n      var st_range = 3000000;\n      var statistics = 'LOCAL STATISTICS : ' + this.city;\n      var description_homeless = '';\n      var description_donors = '';\n      var description_volunteers = '';\n      var description = '';\n      var formData = new FormData();\n      description_homeless = '------- HOMELESS -------' + '\\n' + '\\n' + 'Total homeless: ' + vm.totalHomeless + '\\n' + '\\n' + 'NEEDS' + '\\n' + '\\n' + 'Food:' + vm.food + '\\n' + 'Clothes:' + vm.clothes + '\\n' + 'Work:' + vm.work + '\\n' + 'Lodging:' + vm.lodging + '\\n' + 'Hygiene products:' + vm.hygiene_products;\n      description_donors = '--------- DONORS ---------' + '\\n' + '\\n' + 'Total donors: ' + vm.totalDonors + '\\n' + '\\n' + 'HELP TYPE: ' + '\\n' + '\\n' + 'Personally: ' + vm.personally + '\\n' + 'Through a volunteer: ' + vm.throughVolunteer + '\\n' + '\\n' + 'DONATION TYPES' + '\\n' + '\\n' + 'Food:' + vm.food_d + '\\n' + 'Clothes:' + vm.clothes_d + '\\n' + 'Work:' + vm.work_d + '\\n' + 'Lodging:' + vm.lodging_d + '\\n' + 'Hygiene products:' + vm.hygiene_products_d;\n      description_volunteers = '------- VOLUNTEERS -------' + '\\n' + '\\n' + 'Total volunteers: ' + vm.totalVolunteers + '\\n' + '\\n';\n      description = description_homeless + '\\n' + '\\n' + description_donors + '\\n' + '\\n' + description_volunteers;\n      formData.append('id', statistics);\n      formData.append('name', statistics);\n      formData.append('longitude', lon);\n      formData.append('latitude', lat);\n      formData.append('range', range);\n      formData.append('description', description);\n      axios({\n        method: 'get',\n        url: process.env.VUE_APP_KML_API_URL + 'kml/flyto/' + lon + '/' + lat + '/' + st_range //    data: formData,\n        //    config: { headers: {'Content-Type': 'multipart/form-data' }}\n\n      }).then(function (response) {//handle success\n      }).catch(function (response) {\n        //handle error\n        console.log(\"error\", response);\n      }), //addplacemark method\n      axios({\n        method: 'post',\n        url: process.env.VUE_APP_KML_API_URL + 'kml/builder/addplacemark',\n        data: formData,\n        config: {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }\n      }).then(function (response) {//handle success\n      }).catch(function (response) {\n        //handle error\n        console.log(\"error\", response);\n      }).catch(function (error) {\n        console.log(error);\n      }), axios({\n        method: 'get',\n        url: process.env.VUE_APP_KML_API_URL + 'kml/manage/balloon/' + statistics + '/' + 1 //    data: formData,\n        //    config: { headers: {'Content-Type': 'multipart/form-data' }}\n\n      }).then(function (response) {//handle success\n        //  console.log(\"cities Send\")\n        //   console.log(response)\n      }).catch(function (response) {\n        //handle error\n        console.log(\"error\", response);\n      });\n    }\n  }\n};",{"version":3,"sources":["City.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,OAAA,KAAA,MAAA,OAAA,C,CAEA;AACA;;AAMA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAGA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,SAAA,EAAA,EAJA;AAKA,MAAA,SAAA,EAAA,EALA;AAMA,MAAA,IAAA,EAAA,EANA;AAOA,MAAA,OAAA,EAAA,CACA;AAAA,QAAA,GAAA,EAAA,uCAAA;AAAA,QAAA,IAAA,EAAA,UAAA;AAAA,QAAA,IAAA,EAAA,aAAA;AAAA,QAAA,EAAA,EAAA,UAAA;AAAA,QAAA,IAAA,EAAA,OAAA,CAAA,GAAA,CAAA,mBAAA,GAAA,qBAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,GAAA,EAAA,gEAAA;AAAA,QAAA,IAAA,EAAA,QAAA;AAAA,QAAA,IAAA,EAAA,QAAA;AAAA,QAAA,EAAA,EAAA,OAAA;AAAA,QAAA,IAAA,EAAA,OAAA,CAAA,GAAA,CAAA,mBAAA,GAAA,kBAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,GAAA,EAAA,+DAAA;AAAA,QAAA,IAAA,EAAA,YAAA;AAAA,QAAA,IAAA,EAAA,YAAA;AAAA,QAAA,EAAA,EAAA,WAAA;AAAA,QAAA,IAAA,EAAA,OAAA,CAAA,GAAA,CAAA,mBAAA,GAAA,sBAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAHA,EAIA;AAAA,QAAA,GAAA,EAAA,uDAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAJA,CAPA;AAaA,MAAA,QAAA,EAAA;AAbA,KAAA;AAeA,GAnBA;AAoBA,EAAA,OApBA,qBAoBA;AACA,QAAA,EAAA,GAAA,IAAA;AAEA,SAAA,IAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,QAAA,EACA,KAAA,SAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,KADA,EAEA,KAAA,GAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,GAFA,EAGA,KAAA,GAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,GAHA,EAIA,KAAA,KAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,KAJA,CAHA,CAUA;;AACA,QAAA,eAAA,GAAA,OAAA,CAAA,GAAA,CAAA,oBAAA,GAAA,cAAA,GAAA,KAAA,IAAA;AACA,QAAA,aAAA,GAAA,EAAA;AACA,QAAA,IAAA,GAAA,CAAA;AACA,QAAA,OAAA,GAAA,CAAA;AACA,QAAA,IAAA,GAAA,CAAA;AACA,QAAA,OAAA,GAAA,CAAA;AACA,QAAA,gBAAA,GAAA,CAAA,CAjBA,CAmBA;;AACA,IAAA,KAAA,CAAA,GAAA,CAAA,eAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,MAAA,EAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AAEA,MAAA,EAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,EAAA,CAAA,aAAA,GAAA,EAAA,CAAA,QAAA,CAAA,MAAA;;AAEA,YAAA,IAAA,CAAA,IAAA,IAAA,MAAA,EAAA;AACA,UAAA,IAAA,IAAA,CAAA;AACA,SAFA,MAEA,IAAA,IAAA,CAAA,IAAA,IAAA,SAAA,EAAA;AACA,UAAA,OAAA,IAAA,CAAA;AACA,SAFA,MAEA,IAAA,IAAA,CAAA,IAAA,IAAA,MAAA,EAAA;AACA,UAAA,IAAA,IAAA,CAAA;AACA,SAFA,MAEA,IAAA,IAAA,CAAA,IAAA,IAAA,SAAA,EAAA;AACA,UAAA,OAAA,IAAA,CAAA;AACA,SAFA,MAEA,IAAA,IAAA,CAAA,IAAA,IAAA,kBAAA,EAAA;AACA,UAAA,gBAAA,IAAA,CAAA;AACA;AACA,OAdA;AAgBA,MAAA,EAAA,CAAA,IAAA,GAAA,IAAA;AACA,MAAA,EAAA,CAAA,OAAA,GAAA,OAAA;AACA,MAAA,EAAA,CAAA,IAAA,GAAA,IAAA;AACA,MAAA,EAAA,CAAA,OAAA,GAAA,OAAA;AACA,MAAA,EAAA,CAAA,gBAAA,GAAA,gBAAA;AAEA,KA1BA,EA2BA,KA3BA,CA2BA,UAAA,QAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,QAAA;AACA,KA7BA,EApBA,CAmDA;;AAEA,QAAA,aAAA,GAAA,OAAA,CAAA,GAAA,CAAA,oBAAA,GAAA,SAAA,GAAA,KAAA,IAAA;AACA,QAAA,WAAA,GAAA,EAAA;AAEA,QAAA,UAAA,GAAA,CAAA;AACA,QAAA,gBAAA,GAAA,CAAA;AACA,QAAA,MAAA,GAAA,CAAA;AACA,QAAA,SAAA,GAAA,CAAA;AACA,QAAA,MAAA,GAAA,CAAA;AACA,QAAA,SAAA,GAAA,CAAA;AACA,QAAA,kBAAA,GAAA,CAAA;AAGA,IAAA,KAAA,CAAA,GAAA,CAAA,aAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,MAAA,EAAA,CAAA,MAAA,GAAA,QAAA,CAAA,IAAA;AAEA,MAAA,EAAA,CAAA,MAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,EAAA,CAAA,WAAA,GAAA,EAAA,CAAA,MAAA,CAAA,MAAA;;AAEA,YAAA,IAAA,CAAA,YAAA,IAAA,MAAA,EAAA;AACA,UAAA,MAAA,IAAA,CAAA;AACA,SAFA,MAEA,IAAA,IAAA,CAAA,YAAA,IAAA,SAAA,EAAA;AACA,UAAA,SAAA,IAAA,CAAA;AACA,SAFA,MAEA,IAAA,IAAA,CAAA,YAAA,IAAA,MAAA,EAAA;AACA,UAAA,MAAA,IAAA,CAAA;AACA,SAFA,MAEA,IAAA,IAAA,CAAA,YAAA,IAAA,SAAA,EAAA;AACA,UAAA,SAAA,IAAA,CAAA;AACA,SAFA,MAEA,IAAA,IAAA,CAAA,YAAA,IAAA,kBAAA,EAAA;AACA,UAAA,kBAAA,IAAA,CAAA;AACA;;AAEA,YAAA,IAAA,CAAA,QAAA,IAAA,YAAA,EAAA;AACA,UAAA,UAAA,IAAA,CAAA;AACA,SAFA,MAEA,IAAA,IAAA,CAAA,QAAA,IAAA,qBAAA,EAAA;AACA,UAAA,gBAAA,IAAA,CAAA;AACA;AACA,OApBA;AAsBA,MAAA,EAAA,CAAA,UAAA,GAAA,UAAA;AACA,MAAA,EAAA,CAAA,gBAAA,GAAA,gBAAA;AACA,MAAA,EAAA,CAAA,MAAA,GAAA,MAAA;AACA,MAAA,EAAA,CAAA,SAAA,GAAA,SAAA;AACA,MAAA,EAAA,CAAA,MAAA,GAAA,MAAA;AACA,MAAA,EAAA,CAAA,SAAA,GAAA,SAAA;AACA,MAAA,EAAA,CAAA,kBAAA,GAAA,kBAAA;AACA,KAjCA,EAkCA,KAlCA,CAkCA,UAAA,QAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,QAAA;AACA,KApCA,EAjEA,CAuGA;;AACA,QAAA,iBAAA,GAAA,OAAA,CAAA,GAAA,CAAA,oBAAA,GAAA,aAAA,GAAA,KAAA,IAAA;AACA,QAAA,eAAA,GAAA,EAAA;AAGA,IAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,MAAA,EAAA,CAAA,UAAA,GAAA,QAAA,CAAA,IAAA;AAEA,MAAA,EAAA,CAAA,UAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,EAAA,CAAA,eAAA,GAAA,EAAA,CAAA,UAAA,CAAA,MAAA;AAEA,OAHA;AAKA,KATA,EAUA,KAVA,CAUA,UAAA,QAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,QAAA;AACA,KAZA;AAeA,GA/IA;AAgJA,EAAA,OAAA,EAAA;AAEA,IAAA,QAFA,oBAEA,OAFA,EAEA;AACA,UAAA,EAAA,GAAA,IAAA,CADA,CAKA;;AAEA,UAAA,MAAA,GAAA,OAAA,CAAA,GAAA,CAAA,oBAAA,GAAA,OAAA,CAAA,IAAA,GAAA,GAAA,GAAA,KAAA,IAAA,CAPA,CAQA;;AACA,MAAA,EAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA,SAAA;AAAA,QAAA,MAAA,EAAA;AAAA,UAAA,KAAA,EAAA,OAAA,CAAA,IAAA;AAAA,UAAA,QAAA,EAAA,KAAA,IAAA;AAAA,UAAA,IAAA,EAAA,OAAA,CAAA,IAAA;AAAA,UAAA,SAAA,EAAA,OAAA,CAAA,GAAA;AAAA,UAAA,IAAA,EAAA,OAAA,CAAA,IAAA;AAAA,UAAA,IAAA,EAAA,OAAA,CAAA;AAAA;AAAA,OAAA;AAEA,MAAA,KAAA,CAAA,GAAA,CAAA,MAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA;AACA,QAAA,EAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AAGA,QAAA,EAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AAEA;AACA,cAAA,QAAA,GAAA,IAAA,QAAA,EAAA;AACA,UAAA,QAAA,CAAA,MAAA,CAAA,IAAA,EAAA,OAAA,CAAA,EAAA;AACA,UAAA,QAAA,CAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,YAAA;AACA,UAAA,QAAA,CAAA,MAAA,CAAA,WAAA,EAAA,IAAA,CAAA,QAAA,CAAA,CAAA,CAAA;AACA,UAAA,QAAA,CAAA,MAAA,CAAA,UAAA,EAAA,IAAA,CAAA,QAAA,CAAA,CAAA,CAAA;AACA,UAAA,QAAA,CAAA,MAAA,CAAA,OAAA,EAAA,CAAA;AACA,UAAA,QAAA,CAAA,MAAA,CAAA,MAAA,EAAA,OAAA,CAAA,IAAA;AACA,UAAA,QAAA,CAAA,MAAA,CAAA,OAAA,EAAA,GAAA,EAVA,CAWA;AAGA;;AACA,UAAA,KAAA,CAAA;AACA,YAAA,MAAA,EAAA,MADA;AAEA,YAAA,GAAA,EAAA,OAAA,CAAA,GAAA,CAAA,mBAAA,GAAA,0BAFA;AAGA,YAAA,IAAA,EAAA,QAHA;AAIA,YAAA,MAAA,EAAA;AAAA,cAAA,OAAA,EAAA;AAAA,gCAAA;AAAA;AAAA;AAJA,WAAA,CAAA,CAMA,IANA,CAMA,UAAA,QAAA,EAAA,CACA;AACA;AACA;AACA,WAVA,EAWA,KAXA,CAWA,UAAA,QAAA,EAAA;AACA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,QAAA;AAEA,WAfA;AAgBA,SA/BA;AAgCA,OAtCA,EAsCA,KAtCA,CAsCA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AAEA,OAzCA;AA2CA,KAxDA;AA0DA,IAAA,IA1DA,gBA0DA,OA1DA,EA0DA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,UAAA,GAAA,GAAA,KAAA,GAAA;AACA,UAAA,GAAA,GAAA,KAAA,GAAA;AACA,UAAA,KAAA,GAAA,KAAA,KAAA;AACA,UAAA,QAAA,GAAA,OAAA;AACA,UAAA,UAAA,GAAA,wBAAA,KAAA,IAAA;AACA,UAAA,oBAAA,GAAA,EAAA;AACA,UAAA,kBAAA,GAAA,EAAA;AACA,UAAA,sBAAA,GAAA,EAAA;AACA,UAAA,WAAA,GAAA,EAAA;AACA,UAAA,QAAA,GAAA,IAAA,QAAA,EAAA;AAEA,MAAA,oBAAA,GAAA,6BAAA,IAAA,GAAA,IAAA,GAAA,kBAAA,GAAA,EAAA,CAAA,aAAA,GAAA,IAAA,GAAA,IAAA,GAAA,OAAA,GAAA,IAAA,GAAA,IAAA,GAAA,OAAA,GAAA,EAAA,CAAA,IAAA,GAAA,IAAA,GAAA,UAAA,GAAA,EAAA,CAAA,OAAA,GAAA,IAAA,GACA,OADA,GACA,EAAA,CAAA,IADA,GACA,IADA,GACA,UADA,GACA,EAAA,CAAA,OADA,GACA,IADA,GACA,mBADA,GACA,EAAA,CAAA,gBADA;AAGA,MAAA,kBAAA,GAAA,+BAAA,IAAA,GAAA,IAAA,GAAA,gBAAA,GAAA,EAAA,CAAA,WAAA,GAAA,IAAA,GAAA,IAAA,GACA,aADA,GACA,IADA,GACA,IADA,GACA,cADA,GACA,EAAA,CAAA,UADA,GACA,IADA,GACA,uBADA,GACA,EAAA,CAAA,gBADA,GACA,IADA,GACA,IADA,GACA,gBADA,GACA,IADA,GACA,IADA,GACA,OADA,GACA,EAAA,CAAA,MADA,GACA,IADA,GAEA,UAFA,GAEA,EAAA,CAAA,SAFA,GAEA,IAFA,GAEA,OAFA,GAEA,EAAA,CAAA,MAFA,GAEA,IAFA,GAEA,UAFA,GAEA,EAAA,CAAA,SAFA,GAEA,IAFA,GAEA,mBAFA,GAEA,EAAA,CAAA,kBAFA;AAIA,MAAA,sBAAA,GAAA,+BAAA,IAAA,GAAA,IAAA,GAAA,oBAAA,GAAA,EAAA,CAAA,eAAA,GAAA,IAAA,GAAA,IAAA;AAEA,MAAA,WAAA,GAAA,oBAAA,GAAA,IAAA,GAAA,IAAA,GAAA,kBAAA,GAAA,IAAA,GAAA,IAAA,GAAA,sBAAA;AAEA,MAAA,QAAA,CAAA,MAAA,CAAA,IAAA,EAAA,UAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,MAAA,EAAA,UAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,WAAA,EAAA,GAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,UAAA,EAAA,GAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,OAAA,EAAA,KAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,aAAA,EAAA,WAAA;AAGA,MAAA,KAAA,CAAA;AACA,QAAA,MAAA,EAAA,KADA;AAEA,QAAA,GAAA,EAAA,OAAA,CAAA,GAAA,CAAA,mBAAA,GAAA,YAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,QAFA,CAGA;AACA;;AAJA,OAAA,CAAA,CAMA,IANA,CAMA,UAAA,QAAA,EAAA,CACA;AAEA,OATA,EAUA,KAVA,CAUA,UAAA,QAAA,EAAA;AACA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,QAAA;AACA,OAbA,GAgBA;AACA,MAAA,KAAA,CAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,GAAA,EAAA,OAAA,CAAA,GAAA,CAAA,mBAAA,GAAA,0BAFA;AAGA,QAAA,IAAA,EAAA,QAHA;AAIA,QAAA,MAAA,EAAA;AAAA,UAAA,OAAA,EAAA;AAAA,4BAAA;AAAA;AAAA;AAJA,OAAA,CAAA,CAMA,IANA,CAMA,UAAA,QAAA,EAAA,CACA;AACA,OARA,EASA,KATA,CASA,UAAA,QAAA,EAAA;AACA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,QAAA;AACA,OAZA,EAYA,KAZA,CAYA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AAEA,OAfA,CAjBA,EAkCA,KAAA,CAAA;AACA,QAAA,MAAA,EAAA,KADA;AAEA,QAAA,GAAA,EAAA,OAAA,CAAA,GAAA,CAAA,mBAAA,GAAA,qBAAA,GAAA,UAAA,GAAA,GAAA,GAAA,CAFA,CAGA;AACA;;AAJA,OAAA,CAAA,CAMA,IANA,CAMA,UAAA,QAAA,EAAA,CACA;AACA;AACA;AAEA,OAXA,EAYA,KAZA,CAYA,UAAA,QAAA,EAAA;AACA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,QAAA;AACA,OAfA,CAlCA;AAmDA;AA7IA;AAhJA,CAAA","sourcesContent":["<template id=\"\">\n  <v-container grid-list-lg >\n      <v-layout row wrap>\n          <v-flex xs12 >\n            <v-card color=\"#e8eaff\">\n            <v-card-media :src=\"imageCity\" height=\"200px\">\n            </v-card-media>\n              <v-card-title primary-title class=\"justify-center\">\n                <div>\n                  <h3 class=\"headline mb-0 \">{{city}}</h3>\n                </div>\n              </v-card-title>\n              </v-card>\n          </v-flex>\n          <v-flex xs3 v-for=\"i in details\" v-bind:key=\"i.id\">\n            <v-card color=\"#F8BBD0\">\n            <v-card-media :src=\"i.img\" height=\"200px\">\n            </v-card-media>\n              <v-card-title primary-title class=\"justify-center\">\n                <div>\n                  <h3 class=\"headline mb-0 \">{{i.name}}</h3>\n                </div>\n              </v-card-title>\n              <v-card-actions class=\"justify-center\">\n                <v-btn v-if= \"i.name != 'Transactions' \" flat color=\"#1A237E\" @click=\"travelTo(i)\">Go To ></v-btn>\n                <v-btn v-if= \"i.name == 'Transactions' \" flat color=\"#1A237E\" @click=\"show(i)\"> SHOW </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-flex>\n  </v-layout>\n\n    </v-container>\n</template>\n\n\n<script type=\"text/javascript\">\n\nimport axios from 'axios'\n\n//const API_URL = \"http://localhost:3000/\"\n//const ERIC_API = \"http://10.33.34.116:8080/\"\n\n\n\n\n\n  export default {\n    name:'details',\n\n    data: function(){\n      return {\n        city : '' ,\n        title:'',\n        cityName:'',\n        imageCity:'' ,\n        imageRole:'' ,\n        role:'',\n        details: [\n          {img:'https://i.ibb.co/5xRGwW5/homeless.png' , name: 'Homeless',role:'allhelpless', id: 'HOMELESS',icon:process.env.VUE_APP_KML_API_URL + 'images/homeless.png', foto:'https://i.ibb.co/2jYPJCV/homeless.png'},\n          {img:'https://i.ibb.co/948KGdK/shutterstock-2630522811-3-390x285.jpg',name: 'Donors',role:'donors', id:'DONOR',icon:process.env.VUE_APP_KML_API_URL + 'images/donor.png', foto:'https://i.ibb.co/h2SfjTH/donor.png'},\n          {img:'https://i.ibb.co/2h6Cb3C/Volunteer-Agift-to-the-community.png',name: 'Volunteers',role:'volunteers',id:'VOLUNTEER',icon:process.env.VUE_APP_KML_API_URL + 'images/volunteer.png',foto:'https://i.ibb.co/1KnD1XY/volunteer.png'},\n          {img:'https://i.ibb.co/d7Jshnh/open-flash-chart-590x314.jpg',name: 'Transactions'}\n        ] ,\n        roleInfo:[]\n      }\n    },\n    mounted(){\n      var vm = this\n\n      this.city = this.$route.params.cityName,\n      this.imageCity = this.$route.params.image,\n      this.lon = this.$route.params.lon,\n      this.lat = this.$route.params.lat,\n      this.range = this.$route.params.range\n\n\n      //homeless statistics variables\n      var urlApi_homeless = process.env.VUE_APP_NODE_API_URL + 'allhelpless/' + this.city\n      var totalHomeless = ''\n      var food = 0\n      var clothes = 0\n      var work = 0\n      var lodging = 0\n      var hygiene_products = 0\n\n      //homeless\n      axios.get(urlApi_homeless)\n      .then(function (response){\n        vm.homeless = response.data\n\n        vm.homeless.forEach((item)=>{\n            vm.totalHomeless = vm.homeless.length\n\n              if(item.need == 'Food'){\n                food += 1\n              }else if(item.need == 'Clothes'){\n                clothes += 1\n              }else if(item.need == 'Work'){\n                work += 1\n              }else if(item.need == 'Lodging'){\n                lodging += 1\n              }else if(item.need == 'Hygiene products'){\n                hygiene_products += 1\n              }\n        })\n\n        vm.food = food\n        vm.clothes = clothes\n        vm.work = work\n        vm.lodging = lodging\n        vm.hygiene_products = hygiene_products\n\n      })\n      .catch(function(response){\n        console.log(\"error\", response);\n      })\n\n      //donors\n\n      var urlApi_donors = process.env.VUE_APP_NODE_API_URL + 'donors/' + this.city\n      var totalDonors = ''\n\n      var personally = 0\n      var throughVolunteer = 0\n      var food_d = 0\n      var clothes_d = 0\n      var work_d = 0\n      var lodging_d = 0\n      var hygiene_products_d = 0\n\n\n      axios.get(urlApi_donors)\n      .then(function (response){\n        vm.donors = response.data\n\n        vm.donors.forEach((item)=>{\n            vm.totalDonors = vm.donors.length\n\n              if(item.donationType == 'Food'){\n                food_d += 1\n              }else if(item.donationType == 'Clothes'){\n                clothes_d += 1\n              }else if(item.donationType == 'Work'){\n                work_d += 1\n              }else if(item.donationType == 'Lodging'){\n                lodging_d += 1\n              }else if(item.donationType == 'Hygiene products'){\n                hygiene_products_d += 1\n              }\n\n              if(item.helpType == 'Personally'){\n                personally += 1\n              }else if (item.helpType == 'Through a volunteer'){\n                throughVolunteer += 1\n              }\n        })\n\n        vm.personally = personally\n        vm.throughVolunteer = throughVolunteer\n        vm.food_d = food_d\n        vm.clothes_d = clothes_d\n        vm.work_d = work_d\n        vm.lodging_d = lodging_d\n        vm.hygiene_products_d = hygiene_products_d\n      })\n      .catch(function(response){\n        console.log(\"error\", response);\n      })\n\n        //volunteers\n        var urlApi_volunteers = process.env.VUE_APP_NODE_API_URL + 'volunteers/' + this.city\n        var totalVolunteers = ''\n\n\n        axios.get(urlApi_volunteers)\n        .then(function (response){\n          vm.volunteers = response.data\n\n          vm.volunteers.forEach((item)=>{\n              vm.totalVolunteers = vm.volunteers.length\n\n          })\n\n        })\n        .catch(function(response){\n          console.log(\"error\", response);\n        })\n\n\n    },\n    methods: {\n\n      travelTo(details){\n        var vm = this\n\n\n\n    //    console.log(details)\n\n        var urlApi = process.env.VUE_APP_NODE_API_URL + details.role + '/' + this.city\n      //  console.log(urlApi)\n        vm.$router.push({ name: 'details' , params : { title:details.name, cityName:this.city, role: details.role, imageRole:details.img, icon:details.icon, foto: details.foto }})\n\n        axios.get(urlApi)\n       .then(function (response){\n      //   console.log(response.data);\n         vm.roleInfo = response.data\n\n\n         vm.roleInfo.forEach((item)=>{\n\n           //formData define\n           var formData = new FormData()\n           formData.append('id',details.id)\n           formData.append('name',item.completeName)\n           formData.append('longitude',item.location[0])\n           formData.append('latitude',item.location[1])\n           formData.append('range',0)\n           formData.append('icon',details.icon)\n           formData.append('scale',1.3)\n      //   formData.append('description', item.lifeHistory)\n\n\n          //addplacemark method\n           axios({\n             method: 'post',\n             url: process.env.VUE_APP_KML_API_URL + 'kml/builder/addplacemark',\n             data: formData,\n             config: { headers: {'Content-Type': 'multipart/form-data' }}\n           })\n            .then(function (response) {\n             //handle success\n          //   console.log(\"details Send\")\n          //   console.log(response)\n           })\n           .catch(function (response) {\n             //handle error\n            console.log(\"error\",response);\n\n           });\n         });\n       }).catch(function(error){\n          console.log(error);\n\n       });\n\n     },\n\n     show(details){\n       var vm = this\n       var lon = this.lon\n       var lat = this.lat\n       var range = this.range\n       var st_range = 3000000\n       var statistics = 'LOCAL STATISTICS : ' + this.city\n       var description_homeless = ''\n       var description_donors = ''\n       var description_volunteers = ''\n       var description = ''\n       var formData = new FormData()\n\n       description_homeless =  '------- HOMELESS -------'  + '\\n'+ '\\n' + 'Total homeless: ' + vm.totalHomeless + '\\n'+ '\\n' + 'NEEDS' + '\\n' + '\\n' + 'Food:' + vm.food + '\\n' + 'Clothes:' + vm.clothes + '\\n' +\n                       'Work:' + vm.work + '\\n' + 'Lodging:' + vm.lodging + '\\n' + 'Hygiene products:' + vm.hygiene_products\n\n       description_donors =  '--------- DONORS ---------'  + '\\n'+ '\\n' + 'Total donors: ' + vm.totalDonors +  '\\n'+ '\\n' +\n                      'HELP TYPE: '+ '\\n' + '\\n' +'Personally: ' + vm.personally + '\\n' + 'Through a volunteer: ' + vm.throughVolunteer + '\\n' + '\\n' +  'DONATION TYPES' + '\\n' + '\\n' + 'Food:' + vm.food_d + '\\n' +\n                      'Clothes:' + vm.clothes_d + '\\n' + 'Work:' + vm.work_d + '\\n' + 'Lodging:' + vm.lodging_d + '\\n' + 'Hygiene products:' + vm.hygiene_products_d\n\n       description_volunteers = '------- VOLUNTEERS -------' + '\\n' + '\\n' + 'Total volunteers: ' + vm.totalVolunteers +'\\n'+ '\\n'\n\n       description = description_homeless + '\\n' + '\\n' + description_donors  + '\\n' + '\\n' + description_volunteers\n\n       formData.append('id',statistics)\n       formData.append('name',statistics)\n       formData.append('longitude',lon)\n       formData.append('latitude',lat)\n       formData.append('range',range)\n       formData.append('description',description)\n\n\n       axios({\n         method: 'get',\n         url: process.env.VUE_APP_KML_API_URL + 'kml/flyto/'+ lon + '/' + lat + '/' + st_range\n     //    data: formData,\n     //    config: { headers: {'Content-Type': 'multipart/form-data' }}\n       })\n        .then(function (response) {\n         //handle success\n\n       })\n       .catch(function (response) {\n         //handle error\n         console.log(\"error\",response);\n       }),\n\n\n          //addplacemark method\n           axios({\n             method: 'post',\n             url: process.env.VUE_APP_KML_API_URL + 'kml/builder/addplacemark',\n             data: formData,\n             config: { headers: {'Content-Type': 'multipart/form-data' }}\n           })\n            .then(function (response) {\n             //handle success\n           })\n           .catch(function (response) {\n             //handle error\n            console.log(\"error\",response);\n       }).catch(function(error){\n          console.log(error);\n\n       }),\n\n       axios({\n         method: 'get',\n         url: process.env.VUE_APP_KML_API_URL + 'kml/manage/balloon/'+ statistics + '/' + 1\n     //    data: formData,\n     //    config: { headers: {'Content-Type': 'multipart/form-data' }}\n       })\n        .then(function (response) {\n         //handle success\n       //  console.log(\"cities Send\")\n      //   console.log(response)\n\n       })\n       .catch(function (response) {\n         //handle error\n         console.log(\"error\",response);\n       })\n\n     }\n\n    }\n}\n\n</script>\n\n\n<style media=\"screen\">\n"],"sourceRoot":"src/views"}]}